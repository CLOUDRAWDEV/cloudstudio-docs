---
title: DaemonSet
sidebar_position: 0
tags: [Kubernetes, Resource, Apps, Daemonset]
---


<hr />
<br />


## Resource Icon

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/kubernetesImg/apps-daemon_set.png"
    }
/>

## Resource Overview

A DaemonSet is a Kubernetes resource that ensures all (or some) nodes run a copy of a Pod. When a new node is added to the cluster, a Pod is automatically added to that node.

## Associated Resources

### Parent Resource

-   [**Cluster**](https://docs.cstudio.app/en/docs/resource/kubernetes/Base/Cluster)
-   [**Namespace**](https://docs.cstudio.app/en/docs/resource/kubernetes/Core/Namespace)

### Connected Resources

-   [**ConfigMap**](https://docs.cstudio.app/en/docs/resource/kubernetes/Core/ConfigMap)
-   [**Service**](https://docs.cstudio.app/en/docs/resource/kubernetes/Core/Service)
-   [**PersistentVolumeClaim**](https://docs.cstudio.app/en/docs/resource/kubernetes/Core/PersistentVolumeClaim)

## Resource Setting Values

-   `service_name` : Name of the DaemonSet resource

-   `namespace` : Namespace where DaemonSet resources will be deployed

-   `annotations` : Key-value pairs used to display necessary information in the Kubernetes system

-   `labels` : User-specified values used to distinguish objects

-   `template_labels` : Labels applied to Pods created per node

-   `containers` : Defines templates for containers belonging to a Pod. You can set default values and apply them, and then configure detailed settings.
 
    -   `containers.name` : Name of the container

        -   `image` : Docker image name to use

        -   `args` : Commands to be executed within the container

        -   `command` : Commands to be executed within the container

        -   `port` : List of ports exposed by the container

        -   `resources` : Specifies the amount of resources in the container

            -   `resources.name` : Specify the minimum/maximum amount of computing resources - `Limits`, `requests`
            -   `resources.cpu` : Amount of CPU (m)
            -   `resources.memory` : Amount of memory (Mi)
        -   `probe` : Defines how to diagnose the health of a Pod
            -   `probe.name` : Probe method selection - `startup`, `liveness`, `readiness`
            -   `probe.http_get_path` : Path to access the HTTP server
            -   `probe.http_get_port` : Port number to be accessed by the container
            -   `probe.http_header` : Custom headers to set in the request
            -   `probe.initial_delay_seconds` : Number of seconds after the container starts before the probe begins
            -   `probe.period_seconds` : How often to perform probes (in seconds)
        -   `env` : Block of key-value pairs to set in container environment
            -   `env.name` : Name of the environment variable
            -   `env.value` : Value for the environment variable
        -   `volume_mount` : The Pod volume to mount on the container's file system
            -   `volume_mount.name` : Name of the volume mount
            -   `volume_mount.path`
                -   `volume_mount.path.mount_path` : Path within the container where the volume should be mounted
                -   `volume_mount.path.sub_path` : Path within the container where the volume should be mounted
-   `volume` : List of volumes that containers in a Pod can mount
    -   `volume.name` : Volume name
        -   `volume.type` : Type of the volume to mount - `EmptyDir`, `ConfigMap`, `PersistentVolumeClaim`
        -   `volume.target_name` : Name of the PersistentVolumeClaim
        -   `volume.default_mode` : Mode for created files - between 0 and 0777, default is 0644
        -   `volume.read_only` : Mount as read-only if true, otherwise read/write
-   `image_pull_secrets` : Secret in the same namespace containing the permissions needed to pull the image used by the container

## Reference Materials

-   [DaemonSet(Kubernetes)](https://kubernetes.io/en/docs/concepts/workloads/controllers/daemonset/)
-   [DaemonSet(Terraform)](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/en/docs/resources/daemonset)
