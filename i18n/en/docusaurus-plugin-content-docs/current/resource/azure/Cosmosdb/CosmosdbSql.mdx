---
title: CosmodbSql
sidebar_position: 3
tags: [Azure, 리소스, Cosmosdb, CosmodbSql]
---

<hr />
<br />


## Resource Icon

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/azureImg/cosmosdb-cosmosdb_sql.png"
    }
/>

## Resource Overview

Cosmos DB SQL (Structured Query Language) is the query language used in Azure Cosmos DB, a globally distributed multi-model database service provided by Microsoft. 
With Cosmos DB SQL, you can execute SQL queries on JSON documents within Cosmos DB containers. 
It allows you to perform CRUD (Create, Read, Update, Delete) operations, filter and sort data, and aggregate results using familiar SQL functions and expressions. 
Additionally, Cosmos DB SQL supports advanced features such as stored procedures, triggers, and user-defined functions, enabling you to customize query behavior and perform complex operations on your data.

### Parent Resource

-   [**Resource Group**](https://docs.cstudio.app/docs/resource/azure/Base/ResourceGroup)

## Resource Setting Values

-    `capabilities_list`: List of APIs to be used in Cosmos DB - `EnableServerless`, `EnableAggregationPipeline`.

-    `enable_multiple_write_locations`: Enable multi-region writes to utilize provisioned throughput across global databases and containers - `true`, `false`.

-   `public_network_access_enabled`: Enable public access to the account via public IP addresses or service endpoints - `true`, `false`.

-   `enable_automatic_failover`: Enable automatic failover - `true`, `false`.

-   `virtual_network_filter_enabled`: Enable filtering to allow access to the account only from specific subnets within a virtual network - `true`, `false`.

-   `network_acl_bypass_for_azure_services`: Enable ACL bypass for Azure services - `true`, `false`.

-   `geo_location`:

    -   `failover_priority`: Priority for failover within the region - `0` ~ `0`.
    -   `zone_redundant`: Allow automatic zone replication for fault tolerance - `true`, `false`.

-    `consistency_policy`:

    -    `consistency_level`: Consistency level for configuring the availability and performance of Cassandra DB - `Eventual`, `Session`, `Strong`, `ConsistentPrefix`, `BoundedStaleness`.
    -   `max_interval_in_seconds`: Allowed staleness time (in seconds) when the consistency level is Bounded Staleness - `5` ~ `86400`.
    -   `max_staleness_prefix`: Maximum number of stale requests allowed when the consistency level is Bounded Staleness - `10` ~ `2147483647`.

-   `backup`:

    -    `type`: Backup policy type - `Continuous`, `Periodic`.
    -   `interval_in_minutes`: Frequency of backups in minutes, within the range of 60 ~ 1440 - `60` ~ `1440`.
    -   `retention_in_hours`: Duration for which backups are retained (in hours), within the range of 8 ~ 720 - `8` ~ `720`.

-   `sql_database`:

    -    `throughput`: Throughput for the Cosmos DB SQL database - `400` ~ `1000000`.
    -   `enable_autoscale`: Whether to enable auto-scaling for the Cosmos DB SQL database - `true`, `false`.

-   `sql_container`:

    -   `partition_key_version`: Specify the partition key version as either 1 or 2 - `1`, `2`.
    -   `partition_key_path`: Define the partition key path for the SQL container.
    -   `throughput`: Throughput for the SQL container - `400` ~ `100000`.
    -   `indexing_mode`: Set the indexing mode - `consistent`, `none`.
    -   `included_path`: List of paths to include in indexing.
    -   `excluded_path`: List of paths to exclude from indexing.
    -   `unique_key_path`: List of unique key path values for data integrity.
    -   `enable_autoscale`: Whether to enable auto-scaling for the SQL container - `true`, `false`.
    -   `included_sql_database_name`: Name of the SQL database where the container will be created.

-   `tag`: Tag for categorizing resources - up to 512 characters, in `key:value` format.
---

## Reference Materials

-   [Azure Cosmosdb(Microsoft)](https://learn.microsoft.com/ko-kr/azure/cosmos-db/introduction)
-   [Azure Cosmosdb Price](https://azure.microsoft.com/en-us/pricing/details/cosmos-db/autoscale-provisioned/)
-   [Azure Cosmosdb(Terraform)](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cosmosdb_account)
