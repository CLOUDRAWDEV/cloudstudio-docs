---
title: NetworkSecurityGroup
sidebar_position: 7
tags: [Azure, リソース, Network, NetworkSecurityGroup]
---

<hr />
<br />

## リソースアイコン

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/azureImg/network-network_security_group.png"
    }
/>

## リソース概要

Azure NSG（ネットワークセキュリティグループ）は、Azure の VNet（仮想ネットワーク）からリソースへのアクセスを制御するネットワーキングフィルタです。定義されたルール セットに従ってネットワーク トラフィックを許可または拒否するファイアウォールとして機能します。
NSG を VNet のサブネット、ネットワーク インターフェイス、または仮想マシンと接続できます。 NSG がリソースに接続されると、そのリソースへのインバウンドおよびアウトバウンドトラフィックをフィルタリングします。
NSG は優先順位を指定できる複数のインバウンドおよびアウトバウンドセキュリティルールを含むことができるため、ネットワークトラフィックを詳細に制御することができます。
NSG は仮想ネットワークリソースに対する追加の保護層を提供する Azure ネットワークセキュリティの重要な構成要素です。これにより、サブネットレベルでネットワークトラフィックをフィルタリングし、潜在的な脅威への露出を制限できます。

## 関連リソース

### 上位リソース

-   [**Resource Group**](https://docs.cstudio.app/ja/docs/resource/azure/Base/ResourceGroup)

### 接続リソース

-   [**Linux Virtual Machine**](https://docs.cstudio.app/ja/docs/resource/azure/Compute/LinuxVirtualMachine)
-   [**Windowsserver Virtual Machine**](https://docs.cstudio.app/ja/docs/resource/azure/Compute/WindowsserverVirtualMachine)
-   [**Application Gateway**](https://docs.cstudio.app/ja/docs/resource/azure/Network/ApplicationGateway)
-   [**Bastion Host**](https://docs.cstudio.app/ja/docs/resource/azure/Network/BastionHost)
-   [**Network Interface**](https://docs.cstudio.app/ja/docs/resource/azure/Network/NetworkInterface)
-   [- [**Subnet**](https://docs.cstudio.app/ja/docs/resource/azure/Network/Subnet)](https://docs.cstudio.app/ja/docs/resource/azure/Network/Subnet)

## リソース設定値

-   `security_rules`

    -   `http`
        -   `priority` : ルールの優先順位、100 ~ 4096 の範囲 - `100`~ `4096`
        -   `direction` : Rule がインバウンドまたはアウトバウンドトラフィックに適用されるかどうかの可否 - `Inbound`, `Outbound`
        -   `access` : ネットワークトラフィックを許容 - `Allow`, `Deny`
        -   `protocol` : ルールが適用されるネットワークプロトコル - `Tcp`, `Udp`, `Icmp`, `Esp`, `Ah`, `*`
        -   `source_port_ranges` : Source Port もしくは Port の範囲、定数または 0 ~ 65535 の範囲
        -   `destination_port_ranges` : Destination Port もしくは Port 範囲、定数または 0 ~ 65535 の範囲
        -   `source_address_prefixes` : CIDR または Source IP の範囲を指定
        -   `destination_address_prefixes` : CIDR または Destination IP の範囲を指定
        -   `description` : Security Rule の説明
    -   `https`
        -   `priority` : ルールの優先順位、100 ~ 4096 の範囲 - `100`~ `4096`
        -   `direction` : Rule がインバウンドまたはアウトバウンドトラフィックに適用されるかどうかの可否 - `Inbound`, `Outbound`
        -   `access` : ネットワークトラフィックを許容 - `Allow`, `Deny`
        -   `protocol` : ルールが適用されるネットワークプロトコル - `Tcp`, `Udp`, `Icmp`, `Esp`, `Ah`, `*`
        -   `source_port_ranges` : Source Port もしくは Port の範囲、定数または 0 ~ 65535 の範囲
        -   `destination_port_ranges` : Destination Port もしくは Port 範囲、定数または 0 ~ 65535 の範囲
        -   `source_address_prefixes` : CIDR または Source IP の範囲を指定
        -   `destination_address_prefixes` : CIDR または Destination IP の範囲を指定
        -   `description` : Security Rule の説明

-   `linked_subnet_names` : Network Security Group を接続する Subnet の名前

-   `linked_network_interface_names` : Network Security Group を接続する Network Interface 名
-   `tag` : リソースをカテゴリに分類するためのタグ - 最大 512 文字, `key`:`value`

---

## 参考資料

-   [Azure NetworkSecurityGroup(Microsoft)](https://learn.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview)
-   [Azure NetworkSecurityGroup(Terraform)](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/network_security_group)
