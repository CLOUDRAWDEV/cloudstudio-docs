---
title: Firewall
sidebar_position: 3
tags: [Azure, リソース, Network, Firewall]
---

<hr />
<br />

## リソースアイコン

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/azureImg/network-firewall.png"
    }
/>

## リソース概要

Azure Firewall は Azure で実行されるクラウドワークロードに対して最高の脅威保護を提供するクラウドネイティブおよびインテリジェントネットワークファイアウォールセキュリティサービスです。
高可用性と無制限のクラウド拡張性が基本的に提供されるサービス形態の完全な状態保存ファイアウォールです。

## 関連リソース

### 上位リソース

-   [**Resource Group**](https://docs.cstudio.app/ja/docs/resource/azure/Base/ResourceGroup)
-   [**Virtual Network**](https://docs.cstudio.app/ja/docs/resource/azure/Network/VirtualNetwork)
-   [- [**Subnet**](https://docs.cstudio.app/ja/docs/resource/azure/Network/Subnet)](https://docs.cstudio.app/docs/resource/azure/Network/Subnet)

### 接続リソース

-   [**Network Interface**](https://docs.cstudio.app/ja/docs/resource/azure/Network/NetworkInterface)
-   [**Public Ip**](https://docs.cstudio.app/ja/docs/resource/azure/Network/PublicIp)

## リソース設定値

-   `included_subnet_name` : Firewall が位置する Subnet の名前

-   `sku_tier` : Firewall の価格設定階層 - `Basic`, `Standard`, `Premium`

-   `sku_name` : Firewall の価格設定階層名 -`AZFW_VNet`, `AZFW_Hub`

-   `linked_public_ip_name` : Firewall に接続する Public IP の名前

-   `ip_config_name` : IP Configuration の名前

-   `network_rule_collection`

    -   `priority` : Rule Collection의 우선순위, 100 ~ 65000의 범위 - `100`~ `65000`
    -   `action` : 일치하는 트래픽에 Rule을 적용할 동작 - `Allow`,`Deny`

-   `network_rules`

    -   `source_addresses` : 元の IP アドレスまたは範囲のリスト
    -   `destination_ports` : 宛先ポートのリスト
    -   `destination_address` : 宛先 IP アドレスまたは IP 範囲のリスト
    -   `protocols` : ルールを設定するプロトコルのリスト - `TCP`,`UDP`,`ICMP`,`Any`

-   `application_rule_collection`

    -   `priority` : Rule Collection の優先順位、100~65000 の範囲 - `100` ~ `65000`
    -   `action` : 一致するトラフィックにルールを適用する動作 - `Allow`,`Deny`

-   `application_rules`

    -   `source_addresses` : 元の IP アドレスまたは範囲のリスト
    -   `target_fqdns` : 任意の TCP/UDP プロトコルを使用してアウトバウンドトラフィックをフィルタリングするための FQDN リスト
    -   `protocol_port` : プロトコル接続のためのポート - `1` ~ `65502`
    -   `protocol_type` : プロトコル接続タイプ - `Http`, `Https`, `Mssql`

-   `nat_rule_collection`

    -   `priority` : Rule Collection の優先順位、100~65000 の範囲 - `100` ~ `65000`
    -   `action` : 一致するトラフィックにルールを適用する動作 - `Dnat`, `Snat`

-   `nat_rules`

    -   `source_addresses` : 元の IP アドレスまたは範囲のリスト
    -   `destination_ports` : 宛先ポートのリスト
    -   `translated_port` : Firewall を使用するサービスの変換ポート
    -   `translated_address` : Firewall を使用するサービスの変換アドレス
    -   `protocols` : Rule を構成するプロトコルのリスト - `TCP`, `UDP`, `ICMP`, `Any`

-   `tag` : リソースをカテゴリに分類するためのタグ - 最大 512 文字, `key`:`value`

---

## 参考資料

-   [Azure Firewall(Microsoft)](https://learn.microsoft.com/ko-kr/azure/firewall/overview)
-   [Azure Firewall 価格](https://azure.microsoft.com/en-us/pricing/details/azure-firewall/)
-   [Azure Firewall(Terraform)](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/firewall)
