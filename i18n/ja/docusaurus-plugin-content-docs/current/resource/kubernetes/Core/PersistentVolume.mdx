---
title: PersistentVolume
sidebar_position: 0
tags: [Kubernetes, リソース, Core, PersistentVolume]
---

<hr />
<br />

## リソースアイコン

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/kubernetesImg/core-persistent_volume.png"
    }
/>

## リソース概要

クラスターにネットワーク接続されたリポジトリを提供するクバネティス リソースです。

## 関連リソース

### 上位リソース

-   [**Cluster**](https://docs.cstudio.app/ja/docs/resource/kubernetes/Base/Cluster)

### 接続リソース

-   [**StorageClass**](https://docs.cstudio.app/ja/docs/resource/kubernetes/Storage/StorageClass)
-   [**PersistentVolumeClaim**](https://docs.cstudio.app/ja/docs/resource/kubernetes/Core/PersistentVolumeClaim)

## リソース設定値

-   `service_name` : PersistentVolume リソース名
-   `annotations` : クバネティスシステムで必要な情報を表示するために使用する key-value
-   `labels` : オブジェクトを区切るためにユーザーが任意に希望する値を指定
-   `spec` : Persistent Volume の具体的なスペックを定義
    -   `spec.storage_class_name` : 使用するストレージ class 名前指定
    -   `spec.storage_capacity` : 使用するストレージ容量の設定
    -   `spec.volume_driver` : 使用する volume ドライバー設定
    -   `spec.volume_handle` : PV が実際のストレージリソースに接続される識別子"
    -   `spec.persistent_volume_reclaim_policy` : クレームから解除されたときのボリューム回収ポリシー - `retain`,`delete`,`recycle`
    -   `spec.read_only` : Volume mounts で Readonly 設定を強制するかどうか指定 - `false`,`true`
    -   `spec.volume_attributes` : 使用するボリュームのプロパティを指定
    -   `spec.access_modes` : ボリュームをマウントできる方法を指定 - `ReadOnlyMany`,`ReadWriteOnce`,`ReadWriteMany`
    -   `spec.mount_options` : 追加マウントオプションの指定
-   `node_stage_secret_ref` : ストレージにアクセスできるユーザーの認証を含むクバネティス シークレットを指定
    -   `node_stage_secret_ref.name` : secret 名の設定
    -   `node_stage_secret_ref.namespace` : secret があるネームスペースの設定

---

## 参考資料

-   [PersistentVolume(Kubernetes)](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/resources/persistent_volume)
-   [PersistentVolume(Terraform)](https://kubernetes.io/docs/concepts/storage/persistent-volumes/)
