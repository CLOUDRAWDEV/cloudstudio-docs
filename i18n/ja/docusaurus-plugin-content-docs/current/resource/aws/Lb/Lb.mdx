---
title: Lb
sidebar_position: 0
tags: [AWS, リソース, Lb]
---

<hr />
<br />

## リソースアイコン

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/awsImg/lb-lb.png"
    }
/>

## リソース概要

Elastic Load Balancing は受信されるアプリケーショントラフィックを EC2 インスタンスのような多数の対象に自動的にデプロイします。
また登録された対象の状態をモニタリングし、状態が良好な対象としてのみトラフィックをルーティングします。
Elastic Load Balancing は次の 3 つのタイプのロードバランサーに対応します。
Application Load Balancer、 Network Load Balancer、Classic Load Balancer.

## 関連リソース

### 上位リソース

-   [**Vpc**](https://docs.cstudio.app/ja/docs/resource/aws/Vpc/Vpc)

### 接続リソース

-   [**Ec2 Instance**](https://docs.cstudio.app/ja/docs/resource/aws/Ec2/Instance)
-   [**Vpc Subnet**](https://docs.cstudio.app/ja/docs/resource/aws/Vpc/Subnet)
-   [**Vpc Security Group**](https://docs.cstudio.app/ja/docs/resource/aws/Vpc/SecurityGroup)

## リソース設定値

-   `load_balancer_type` : ELB タイプ - `application`, `network`, `gateway`
-   `internal` : ELB を Internet facing でデプロイするか Internal でデプロイするかの設定 - `true`, `false`
-   `included_vpc_name` : ターゲットグループを生成する VPC の名前

-   `linked_subnet_names` : LB に接続するサブネット Name のリスト
-   `security_group_names` : LB に割り当てるセキュリティグループ名リスト、アプリケーションタイプのロードバランサにのみ有効

-   `drop_invalid_header` : ヘッダーフィールドが無効な HTTP ヘッダーがロードバランサーによって削除されるか(true)、それとも対象にルーティングされるか(false)設定 - `true`, `false`
-   `target_group` : 対象グループ名、ハイフン(-)を含めて最大 32 文字の英数字文字が許可されますが、名前はハイフンで始まるか終わることはできません

    -   `protocol` : クライアントからロード バランサへの接続のためのプロトコル - `HTTP`, `HTTPS`, `TCP`, `TCP_UDP`, `TLS`, `UDP`
    -   `port` : ロードバランサーが受信待機するポート
    -   `instance_names` : Target Instance の名前リスト

-   `listener` : ELB Listener の名前
    -   `protocol` : クライアントからロード バランサへの接続のためのプロトコル - `HTTP`, `HTTPS`, `TCP`, `TCP_UDP`, `TLS`, `UDP`
    -   `port` : ロードバランサーが受信待機するポート
    -   `default_action_type` : ルーティングタスクタイプ - `forward`, `redirect`, `fixed-response`
    -   `target_group_name` : トラフィックをルーティングするターゲットグループの名前

---

## 参考資料

-   [Elastic Load Balancing(AWS)](https://docs.aws.amazon.com/ko_kr/elasticloadbalancing/latest/userguide/what-is-load-balancing.html)
-   [Elastic Load Balancing 料金(AWS)](https://aws.amazon.com/ko/elasticloadbalancing/pricing/?nc2=type_a)
-   [aws_lb(Terraform)](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/lb)
