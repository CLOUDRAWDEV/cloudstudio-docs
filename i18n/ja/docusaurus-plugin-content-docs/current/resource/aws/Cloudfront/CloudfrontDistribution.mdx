---
title: Cloudfront Distribution
sidebar_position: 0
tags: [AWS, リソース, Cloudfront, CloudfrontDistribution]
---

<hr />
<br />

## リソースアイコン

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/awsImg/cloudfront-cloudfront_distribution.png"
    }
/>

## リソース概要

Amazon CloudFront는 .html, .css, .php, イメージ及びメディアファイルなどの静的·動的ウェブコンテンツの配布速度を高めます。
ユーザーがコンテンツをリクエストすると CloudFront は短い遅延時間と高性能を提供する全世界のエッジロケーションネットワークを通じてコンテンツを提供します。

## 関連リソース

### 上位リソース

-   [**Base**](https://docs.cstudio.app/ja/docs/resource/aws/Base/)

### 接続リソース

-   [**Cloudfront Cache Policy**](https://docs.cstudio.app/ja/docs/resource/aws/Cloudfront/CloudfrontDistribution)
-   [**S3 Bucket**](https://docs.cstudio.app/ja/docs/resource/aws/S3/S3Bucket)
-   [**Waf Web Acl**](https://docs.cstudio.app/ja/docs/resource/aws/Waf/WafWebAcl)

## リソース設定値

-   `enabled` : コンテンツに対するエンドユーザーのリクエストを受け入れるようにディストリビューションが有効になっているかどうかの可否 - `true`, `false`
-   `origin` : Origin の識別子
-   `cache_policy` : Cache Policy の名前
    -   `min_ttl` : オブジェクトが CloudFront キャッシュに残っている必要がある最小時間(秒)
    -   `max_ttl` : オブジェクトが CloudFront キャッシュに維持される最大時間(秒)
    -   `default_ttl` : オブジェクトが CloudFront キャッシュに残っている必要がある基本時間(秒)
    -   `cookie_behavior` : クッキーをオリジンサーバーに渡すかどうかの可否 - `whitelist`,`all`,`none`,`allExcept`
    -   `cookies_items` : Cookie Items の名前リスト
    -   `header_behavior` : 指定されたヘッダーの値に基づいてオブジェクトをキャッシングするかどうかの可否 - `whitelist`,`none`
    -   `headers_items` : Header Items の名前リスト
    -   `query_string_behavior` : エンドユーザー要請の URL クエリ文字列がキャッシュキーに含まれ、CloudFront がオリジンに送る要請に自動的に含まれるかどうかを決定 - `whitelist`,`all`,`none`,`allExcept`
    -   `query_string_items` : query items の名前リスト
-   `cache_behavior`

    -   `path_pattern` : Cache Behavior に適用するリクエストを指定するパターン
    -   `compress` : CloudFront でウェブリクエストに対するコンテンツを自動に圧縮するかどうかの可否 - `true`, `false`
    -   `viewer_protocol_policy` : リクエストが PathPattern のパスパターンと一致する時、TargetOriginId で指定した原本のファイルにアクセスするために使用できるプロトコルを指定 - `allow-all`,`https-only`,`redirect-to-https`
    -   `allowed_methods` : CloudFront で処理し、Amazon S3 バケットまたはユーザ指定オリジンに伝達する HTTP メソッドを制御 - `GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`DELETE`
    -   `cached_methods` : CloudFront で指定された HTTP メソッドを使用してリクエストに対する応答をキャッシュするかどうかの可否を制御 - `GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`DELETE`
    -   `origin_name` : パスパターンが一致した時に Cloudfront でリクエストをルーティングする Origin 名
    -   `cache_policy_name` : Cache Behavior に接続する Cache Policy ID

-   `restriction`

    -   `type` : 国別のコンテンツデプロイを制限するために使用する方法 - `whitelist`,`blacklist`,`none`
    -   `locations` : CloudFront でコンテンツをデプロイまたはデプロイしないようにする ISO 3166-1-alpha-2 コード

-   `viewer_certificate`

    -   `default_certificate_enabled` : エンドユーザーが HTTPS を使用してオブジェクトをリクエストするようにし、 デプロイに CloudFront ドメイン名を使用する場合 - `true`, `false`

-   `price_class` : Cloudfront distribution の価格等級(price class) - `PriceClass_100`, `PriceClass_200`, `PriceClass_All`
-   `http_version` : Cloudfront distribution でサポートする HTTP の最大バージョン - `http1.1`, `http2`
-   `is_ipv6_enabled` : Cloudfront distribution の IPv6 許容可否 - `true`, `false`

-   `logging`

    -   `logging_enabled` : ロギング活性化 - `true`, `false`

-   `linked_waf_web_acl_name` : セキュリティ保護を活性化する場合に使用する WAF WEB ACL 名

## 参考資料

-   [Amazon CloudFront(AWS)](https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Introduction.html)
-   [Amazon CloudFront 価格(AWS)](https://aws.amazon.com/ko/cloudfront/pricing/?nc2=type_a)
-   [Amazon CloudFront Distribution(Terraform)](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudfront_distribution)
