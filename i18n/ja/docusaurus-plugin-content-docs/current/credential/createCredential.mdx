---
title: 자격증명 생성 및 등록하기
sidebar_position: 2
tags: [자격증명 생성, 자격증명 등록, Azure 자격증명, Azure, NCloud, AWS, key]
---

import styles from "/src/scss/_markdown.module.scss"
import registration01 from "@site/docs/credential/img/registration-01.png"
import registration02 from "@site/docs/credential/img/registration-02.png"
import registration03 from "@site/docs/credential/img/registration-03.png"
import registration04 from "@site/docs/credential/img/registration-04.png"
import registration05 from "@site/docs/credential/img/registration-05.png"
import registration06 from "@site/docs/credential/img/registration-06.png"
import registration07 from "@site/docs/credential/img/registration-07.png"
import registration08 from "@site/docs/credential/img/registration-08.png"
import registration09 from "@site/docs/credential/img/registration-09.png"
import registration10 from "@site/docs/credential/img/registration-10.png"
import aws1 from "@site/docs/credential/img/aws1.png"
import aws2 from "@site/docs/credential/img/aws2.png"
import aws3 from "@site/docs/credential/img/aws3.png"
import aws4 from "@site/docs/credential/img/aws4.png"

<hr />
<br />

## 자격증명 생성 및 등록하기 {#create-credential}

클라우드 스튜디오에 자격증명을 등록하기 위해서는 각 CSP 페이지에서 자격증명을 생성해야 합니다.
자격증명 등록은 `메인 페이지`에서 할 수도 있고 `캔버스 페이지`에서 할 수도 있습니다.
자격증명을 미리 등록해두는 이유는 이후 캔버스를 배포할 때와 기존 인프라를 가져올 때 자격증명 정보가 필요하기 때문입니다.

<br />

<details>
    <summary>자격증명이란?</summary>
    <h5>사용자 로그인 정보 등 개인 신상을 암호화한 정보입니다.</h5>
</details>

<p>&nbsp;</p>

### Azure 자격증명 등록하기

각각의 필드 옆에 있는 🔗 링크 아이콘을 클릭하면 `azure docs`로 연결됩니다.
참고하여 필드를 채워줍니다.

<div className={styles.imgWrap}>
    <img src={registration01} alt="이미지" />
</div>

<br />

1. `내 정보 - 자격증명 관리`에서 `자격증명 등록` 버튼을 클릭합니다.
2. azure를 선택합니다.
3. 자격증명 이름을 입력합니다.

> -   영문으로 시작해야 합니다.
> -   숫자/언더바/하이픈 외 특수기호 사용은 불가합니다.
> -   4 ~ 20 자리로 입력합니다.

4. `Azure Portal`에 접속한 후 로그인 합니다. https://azure.microsoft.com/ko-kr/get-started/azure-portal/
5. `Azure Active Directory`를 클릭합니다.

<div className={styles.imgWrap}>
    <img src={registration02} alt="이미지" />
</div>

<br />

6. `앱등록>새등록`을 클릭합니다.
7. 애플리케이션 등록 페이지가 표시되면 애플리케이션의 `등록 정보`를 입력합니다.

> -   애플리케이션에 대한 이름을 입력합니다(예: AspNetCore-WebApp). 이 이름은 앱의 사용자에게 표시될 수 있으며 나중에 변경할 수 있습니다.
> -   애플리케이션에 지원되는 계정 유형을 선택합니다.
> -   리디렉션 URI의 경우 인증에 성공한 후 반환된 토큰 응답을 받을 애플리케이션의 형식 및 URI 대상을 추가합니다. 예를 들어 다음과 같이 입력합니다. https://localhost:44321
> -   등록을 선택합니다.

8. 관리에서 `인증`을 선택하고 다음 정보를 추가합니다.

> -   웹 섹션에서 https://localhost:44321/signin-oidc를 리디렉션 URI로 추가합니다.
> -   전면 채널 로그아웃 URL에 https://localhost:44321/signout-oidc을 입력합니다.
> -   암시적 권한 부여 및 하이브리드 흐름에서 ID 토큰을 선택합니다.
> -   저장을 선택합니다.

9. 앱을 등록한 소유자는 다른 유저들이 등록된 앱에 접근할 수 있도록 접근 권한을 할당해주어야 합니다. 역할 할당을 위해 아까 생성한 앱을 클릭합니다.

> -   9-1. 액세스 제어(IAM) 를 클릭합니다. 다음은 리소스 그룹에 대한 액세스 제어(IAM) 페이지의 예를 보여줍니다.
> -   9-2. 역할 할당 탭을 클릭하여 관련 범위의 역할 할당을 확인합니다.
> -   9-3. 추가>역할 할당 추가를 클릭합니다.
> -   9-4. 역할 탭에서 사용하려는 역할을 선택합니다.
> -   9-5. 세부 정보 열에서 보기를 클릭하여 역할에 대한 자세한 정보를 확인합니다.
> -   9-6. 다음을 클릭합니다.
> -   9-7. 멤버 탭에서 사용자, 그룹 또는 서비스 주체를 선택하여 선택한 역할을 하나 이상의 Azure AD 사용자, 그룹 또는 서비스 주체(애플리케이션)에 할당합니다.
> -   9-8. 멤버 선택을 클릭합니다.
> -   9-9. 사용자, 그룹 또는 서비스 주체를 찾아서 선택합니다.
> -   9-10. 선택 을 클릭하여 구성원 목록에 사용자, 그룹 또는 서비스 주체를 추가합니다.
> -   9-11. 선택한 역할을 하나 이상의 관리 ID에 할당하려면 관리 ID를 선택합니다.
> -   9-12. 멤버 선택을 클릭합니다.
> -   9-13. 관리 ID 선택 창에서 형식이 사용자가 할당한 관리 ID 또는 시스템이 할당한 관리 ID인지 선택합니다.
> -   9-14. 관리 ID를 찾아서 선택합니다.
> -   9-15. 선택을 클릭하여 구성원 목록에 관리 ID를 추가한 후 다음을 클릭합니다.
> -   9-16. 검토 + 할당을 클릭하여 역할을 할당합니다. 몇 분이 지나면 선택한 범위에서 보안 주체에 역할이 할당됩니다.
> -   9-17. 역할 할당에 대한 설명이 표시되지 않으면 열 편집을 클릭하여 설명 열을 추가합니다.

<p>&nbsp;</p>

:::info
Azure Portal을 사용하여 Azure 역할 할당을 하는 자세한 방법은 아래 링크를 참조해주세요.
https://learn.microsoft.com/ko-kr/azure/role-based-access-control/role-assignments-portal
:::

<p>&nbsp;</p>

10. `디렉터리(테넌트) ID`를 클라우드 스튜디오 `Tenant ID`에 입력합니다. `애플리케이션(클라이언트) 아이디`를 클라우드 스튜디오 `Service Principal ID`에 입력합니다.

<div className={styles.imgWrap}>
    <img src={registration03} alt="이미지" />
</div>

<br />
11. 왼쪽 사이드 바에서 `인증서 및 암호`를 클릭합니다.
12. `새 클라이언트 암호`를 클릭합니다.
13. Key에 대한 간단한 설명을 입력한 후 만료시간을 선택합니다. 입력이 완료되면 `추가`를
클릭합니다. 
14. 생성된 값을 복사하여 클라우드 스튜디오 Service Principal Key에 붙여넣기
합니다.

<p>&nbsp;</p>

:::caution

생성된 Service Principal Key는 페이지를 `새로고침하면 볼 수 없습니다`. 바로 적어두는 것을 권장합니다. Key 값이 기억나지 않는다면 다시 생성할 수 있지만 권장사항은 아닙니다.

:::

<br />

15. Azure Potal `홈`으로 돌아와 `구독`을 클릭합니다.

<div className={styles.imgWrap}>
    <img src={registration04} alt="이미지" />
</div>

<br />

16. `구독 ID`를 클라우드 스튜디오 `Subscription ID`에 입력합니다.

<div className={styles.imgWrap}>
    <img src={registration05} alt="이미지" />
</div>

<br />

17. `등록하기`를 클릭합니다.

:::tip

Azure CLI로 자격증명을 등록하는 방법은 `아래 링크`를 참고해주세요.
https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli

:::

<p>&nbsp;</p>

### NCloud 자격증명 등록하기

클라우드 스튜디오를 사용해 NAVER Cloud Platform로 배포하기 위해서는 NAVER Cloud Platform의 API 인증키인 `Access key`와 `Secret Key`가 필요합니다.
API 인증키는 API를 호출한 사용자가 권한을 가진 사용자인지 식별하는 도구입니다.

<div className={styles.imgWrap}>
    <img src={registration06} alt="이미지" />
</div>

<br />

1. `자격증명명`을 입력합니다.
2. 인증키 생성을 위해 [NAVER Cloud Platform 포털](https://www.ncloud.com/)에서 회원가입을 진행합니다.

:::tip

NAVER Cloud Platform 회원가입 방법은 [여기](https://guide.ncloud-docs.com/docs/userguide-userguideaccount-2)를 참고해주세요.

:::

<br />

3. [NCP사이트](https://www.ncloud.com/product/applicationService/sens)에서 `이용 신청하기`를 클릭합니다. 단, `결제수단`을 필수로 등록해야 인증키를 발급받을 수 있습니다.

<div className={styles.imgWrap}>
    <img src={registration08} alt="이미지" />
</div>

<br />

4. `포털 > 마이페이지 > 계정관리 > 인증키 관리` 페이지에 접속합니다.
5. 인증키가 없을 경우 `신규 API 인증키 생성` 버튼을 클릭합니다.

<div className={styles.imgWrap}>
    <img src={registration09} alt="이미지" />
</div>

<br />

6. `Access Key ID`를 복사하여 클라우드 스튜디오에 붙여넣기 합니다.
7. `Secret Key`를 생성하여 클라우드 스튜디오에 붙여넣기 합니다.

<div className={styles.imgWrap}>
    <img src={registration10} alt="이미지" />
</div>

<br />

:::tip

모든 권한을 갖고 있는 메인 계정이 아닌 서브 계정에서 API 인증키를 발급하고, 인증키 유출에 대비하여 주기적으로 교체하는 것을 권장합니다.
API 인증키를 사용하지 않거나, 도용이 의심되는 경우에도 보안을 위해 발급한 `인증키를 중지하거나 삭제`하는 것이 좋습니다.
API 인증키를 새롭게 생성한 후에도 사용 중이던 서비스를 정상적으로 이용하려면 `변경된 API 인증키를 적용`해야 합니다.

:::

<p>&nbsp;</p>

### AWS 자격증명 등록하기

1. https://console.aws.amazon.com/iam/ 에서 `IAM`에 로그인하여 콘솔을 엽니다.

<div className={styles.imgWrap}>
    <img src={aws1} alt="이미지" />
</div>

<br />

2. 콘솔 홈에서 우측 상단에 `내계정`을 클릭한 후 `보안 자격 증명`을 선택합니다.

<div className={styles.imgWrap}>
    <img src={aws2} alt="이미지" />
</div>

<br />

3. `액세스 키`를 클릭합니다.
4. `새 액세스 키 만들기`를 클릭합니다.

<div className={styles.imgWrap}>
    <img src={aws3} alt="이미지" />
</div>

5. `액세스 키 표시`를 클릭하거나 엑셀 파일을 다운 받아 key를 확인합니다.

<div className={styles.imgWrap}>
    <img src={aws4} alt="이미지" />
</div>

<br />

:::caution

새 액세스 키 ID와 보안 액세스 키가 포함된 키 파일을 처음 키 생성 시 다운로드하지 않으면 보안 액세스 키를 다시 가져올 수 없습니다.

:::

<br />

### 참고

-   [Azure 자격증명 생성하기](https://docs.microsoft.com/en-us/azure/automation/shared-resources/credentials?tabs=azure-powershell#create-a-new-credential-asset)
-   [AWS 자격증명 생성하기](https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey)
-   [NCloud 자격증명 생성하기](https://api.ncloud-docs.com/docs/common-ncpapi)
