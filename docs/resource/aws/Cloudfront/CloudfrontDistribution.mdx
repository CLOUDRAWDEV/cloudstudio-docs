---
title: Cloudfront Distribution
sidebar_position: 0
tags: [AWS, 리소스, Cloudfront, CloudfrontDistribution]
---

<hr />
<br />

## 리소스 아이콘

<img
    src={
        "https://cloudstudioblob.blob.core.windows.net/cloudstudio/awsImg/cloudfront-cloudfront_distribution.png"
    }
/>

## 리소스 개요

Amazon CloudFront는 .html, .css, .php, 이미지 및 미디어 파일과 같은 정적 및 동적 웹 콘텐츠의 배포 속도를 높입니다. 사용자가 콘텐츠를 요청하면 CloudFront는 짧은 지연 시간과 고성능을 제공하는 전 세계 엣지 로케이션 네트워크를 통해 콘텐츠를 제공합니다.

## 연관 리소스

### 상위 리소스

-   [**Base**](https://docs.cstudio.app/docs/resource/aws/Base/)

### 연결 리소스

-   [**Cloudfront Cache Policy**](https://docs.cstudio.app/docs/resource/aws/Cloudfront/CloudfrontDistribution)
-   [**S3 Bucket**](https://docs.cstudio.app/docs/resource/aws/S3/S3Bucket)
-   [**Waf Web Acl**](https://docs.cstudio.app/docs/resource/aws/Waf/WafWebAcl)

## 리소스 설정 값

-   `enabled` :콘텐츠에 대한 최종 사용자 요청을 수락하도록 배포가 활성화되어 있는지 여부 - `true`, `false`
-   `origin` : Origin의 식별자
-   `cache_policy` : Cache Policy 이름
    -   `min_ttl` : 객체를 CloudFront 캐시에 유지하려는 최소 시간(초)
    -   `max_ttl` : 객체가 CloudFront 캐시에 유지되는 최대 시간(초)
    -   `default_ttl` : 객체를 CloudFront 캐시에 유지하려는 기본 시간(초)
    -   `cookie_behavior` : 최종 사용자 요청의 쿠키가 캐시 키에 포함되고 CloudFront가 오리진으로 보내는 요청에 자동으로 포함되는지 여부를 결정 - `whitelist`,`all`,`none`,`allExcept`
    -   `cookies_items` : Cookie Items 이름 리스트
    -   `header_behavior` : HTTP 헤더가 캐시 키에 포함되고 CloudFront가 오리진으로 보내는 요청에 자동으로 포함되는지 여부를 결정 - `whitelist`,`none`
    -   `headers_items` : Header Items 이름 리스트
    -   `query_string_behavior` : 최종 사용자 요청의 URL 쿼리 문자열이 캐시 키에 포함되고 CloudFront가 오리진으로 보내는 요청에 자동으로 포함되는지 여부를 결정 - `whitelist`,`all`,`none`,`allExcept`
    -   `query_strings_items` : query items 이름 리스트
-   `cache_behavior`

    -   `path_pattern` : Cache Behavior에 적용할 요청을 지정하는 패턴
    -   `compress` : CloudFront에서 웹 요청에 대한 콘텐츠를 자동으로 압축할지 여부 - `true`, `false`
    -   `viewer_protocol_policy` : 요청이 PathPattern의 경로 패턴과 일치할 때 TargetOriginId에서 지정한 원본의 파일에 액세스하는 데 사용할 수 있는 프로토콜을 지정 - `allow-all`,`https-only`,`redirect-to-https`
    -   `allowed_methods` : CloudFront에서 처리하고 Amazon S3 버킷 또는 사용자 지정 오리진으로 전달하는 HTTP 메서드를 제어 - `GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`DELETE`
    -   `cached_methods` : CloudFront에서 지정된 HTTP 메서드를 사용하여 요청에 대한 응답을 캐시할지 여부를 제어 - `GET`,`HEAD`,`OPTIONS`,`PATCH`,`POST`,`PUT`,`DELETE`
    -   `origin_name` : 경로 패턴이 일치할 때 Cloudfront에서 요청을 라우팅할 Origin 이름
    -   `linked_cache_policy_name` : Cache Behavior에 연결할 Cache Policy ID

-   `restriction`

    -   `type` : 국가별로 콘텐츠 배포를 제한하는 데 사용하려는 방법 - `whitelist`,`blacklist`,`none`
    -   `locations` : CloudFront에서 콘텐츠를 배포하거나 배포하지 않도록 하려는 ISO 3166-1-alpha-2 코드

-   `viewer_certificate`

    -   `default_certificate_enabled` : 최종 사용자가 HTTPS를 사용하여 객체를 요청하도록 하고 배포에 CloudFront 도메인 이름을 사용하는 경우 - `true`, `false`

-   `price_class` : Cloudfront distribution의 가격 등급 - `PriceClass_100`, `PriceClass_200`, `PriceClass_All`
-   `http_version` : Cloudfront distribution에서 지원하는 HTTP의 최대 버전 - `http1.1`, `http2`
-   `is_ipv6_enabled` : Cloudfront distribution의 IPv6 허용 여부 - `true`, `false`

-   `logging`

    -   `logging_enabled` : 로깅 활성화 - `true`, `false`

-   `linked_waf_web_acl_name` : 보안 보호를 활성화 할 경우 사용할 WAF WEB ACL 이름

## 참고 자료

-   [Amazon CloudFront(AWS)](https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/Introduction.html)
-   [Amazon CloudFront 가격(AWS)](https://aws.amazon.com/ko/cloudfront/pricing/?nc2=type_a)
-   [Amazon CloudFront Distribution(Terraform)](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudfront_distribution)
